  ADDR B1 B2 B3 B4 C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE       1

                   *DECLARACION CONSTANTES

                   SCDR   EQU   $102F
                   SCCR2  EQU   $102D
                   SCSR   EQU   $102E
                   SCCR1  EQU   $102C
                   BAUD   EQU   $102B
                   HPRIO  EQU   $103C
                   SPCR   EQU   $1028
                   CSCTL  EQU   $105D
                   OPT2   EQU   $1038
                   PORTG  EQU   $1002
                   DDRA   EQU   $1001
                   DDRD   EQU   $1009
                   DDRG   EQU   $1003

                   *DECLARACION DE VARIABLES

                   ORDEN EQU  $0000
                   TEMP_H EQU $0001
                   TEMP  EQU  $0002
                   U     EQU  $0010
                   D     EQU  $0011
                   C     EQU  $0012
                   UM    EQU  $0013
                   CONT  EQU  $0020
                   FED   EQU  $0021
                   FER   EQU  $0022
                   FCD   EQU  $0023
                   FCR   EQU  $0024
                   CONT_M EQU $0025
                   CONT_D EQU $0026
                   CONT_C EQU $0027
                   CONT_L EQU $0028
                   CONT_X EQU $0029
                   CONT_V EQU $002A
                   CONT_I EQU $002B
                   U_R    EQU  $002C
                   D_R    EQU  $002D
                   C_R    EQU  $002E
                   UM_R   EQU  $002F

                   *PROGRAMA

                         ORG $8000

  8000 8E 00 FF          LDS #$00FF
  8003 BD 83 10          JSR SERIAL

                   LIMPIA
  8006 7F 00 00          CLR ORDEN
  8009 7F 00 01          CLR TEMP_H
  800C 7F 00 02          CLR TEMP
  800F 7F 00 10          CLR U
  8012 7F 00 11          CLR D
  8015 7F 00 12          CLR C
  8018 7F 00 13          CLR UM
  801B 7F 00 2C          CLR U_R
  801E 7F 00 2D          CLR D_R
  8021 7F 00 2E          CLR C_R
  8024 7F 00 2F          CLR UM_R
  8027 7F 00 20          CLR CONT
  802A 7F 00 21          CLR FED
  802D 7F 00 22          CLR FER
  8030 7F 00 23          CLR FCD
  ADDR B1 B2 B3 B4 C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE       2

  8033 7F 00 24          CLR FCR
  8036 7F 00 25          CLR CONT_M
  8039 7F 00 26          CLR CONT_D
  803C 7F 00 27          CLR CONT_C
  803F 7F 00 28          CLR CONT_L
  8042 7F 00 29          CLR CONT_X
  8045 7F 00 2A          CLR CONT_V
  8048 7F 00 2B          CLR CONT_I
  804B CE 00 00          LDX #0
  804E 18 CE 00 00       LDY #0
  8052 BD 83 3B          JSR BORRA_TODO

                   INICIO

  8055 86 3F             LDAA #'?
  8057 97 00             STAA ORDEN
                   CICLO
  8059 96 00             LDAA ORDEN
  805B 81 3F             CMPA #'?
  805D 27 FA             BEQ  CICLO

  805F BD 83 AD          JSR DECIMAL
  8062 D6 23             LDAB FCD
  8064 C1 01             CMPB #1
  8066 27 4D             BEQ STORE_DECIMAL
  8068 BD 83 82          JSR ROMANO
  806B D6 24             LDAB FCR
  806D C1 01             CMPB #1
  806F 27 03             BEQ STORE_ROMANO
  8071 BD 83 6B          JSR MENSAJE_ERROR_SIMBOLO

                   STORE_ROMANO
  8074 CE 01 70          LDX #$0170
  8077 A7 00             STAA $0,X
  8079 08                INX
  807A 7C 00 02          INC TEMP
                   RELOAD_DATA_ROMANO
  807D 86 3F             LDAA #'?
  807F 97 00             STAA ORDEN
                   CICLO_GUARDADO_ROMANO
  8081 96 00             LDAA ORDEN
  8083 81 3F             CMPA #'?
  8085 27 FA             BEQ CICLO_GUARDADO_ROMANO
  8087 81 3D             CMPA #'=
  8089 27 18             BEQ REVISA_21
  808B D6 02             LDAB TEMP
  808D C1 21             CMPB #$21
  808F 27 59             BEQ IMPRIME_ERROR_MAX_DECIMAL
  8091 BD 83 82          JSR ROMANO
  8094 D6 22             LDAB FER
  8096 C1 00             CMPB #0
  8098 26 4A             BNE IMPRIME_ERROR_SIMBOLO
  809A A7 00             STAA $0,X
  809C 08                INX
  809D 7C 00 02          INC TEMP
  80A0 7E 80 7D          JMP RELOAD_DATA_ROMANO

                   REVISA_21
  80A3 CE 00 00          LDX #0
  80A6 96 02             LDAA TEMP
  80A8 81 21             CMPA #$21
  80AA 23 06             BLS R2D_TEMP
  80AC BD 83 54          JSR MENSAJE_ERROR_MAX
  80AF 7E 81 B0          JMP ESPERA_OK

  ADDR B1 B2 B3 B4 C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE       3

                   R2D_TEMP
  80B2 7E 81 CD          JMP R2D

                   STORE_DECIMAL
  80B5 CE 00 03          LDX #3
  80B8 A7 10             STAA $10,X
  80BA 09                DEX
  80BB 7C 00 02          INC TEMP
                   RELOAD_DATA_DECIMAL
  80BE 86 3F             LDAA #'?
  80C0 97 00             STAA ORDEN
                   CICLO_GUARDADO_DECIMAL
  80C2 96 00             LDAA ORDEN
  80C4 81 3F             CMPA #'?
  80C6 27 FA             BEQ CICLO_GUARDADO_DECIMAL
  80C8 81 3D             CMPA #'=
  80CA 27 24             BEQ REVISA_CUATRO
  80CC D6 02             LDAB TEMP
  80CE C1 04             CMPB #4
  80D0 27 18             BEQ IMPRIME_ERROR_MAX_DECIMAL
  80D2 BD 83 AD          JSR DECIMAL
  80D5 D6 21             LDAB FED
  80D7 C1 00             CMPB #0
  80D9 26 09             BNE IMPRIME_ERROR_SIMBOLO
  80DB A7 10             STAA $10,X
  80DD 09                DEX
  80DE 7C 00 02          INC TEMP
  80E1 7E 80 BE          JMP RELOAD_DATA_DECIMAL

                   IMPRIME_ERROR_SIMBOLO
  80E4 BD 83 6B          JSR MENSAJE_ERROR_SIMBOLO
  80E7 7E 81 B0          JMP ESPERA_OK

                   IMPRIME_ERROR_MAX_DECIMAL
  80EA BD 83 54          JSR MENSAJE_ERROR_MAX
  80ED 7E 81 B0          JMP ESPERA_OK

                   REVISA_CUATRO
  80F0 CE 00 00          LDX #0
  80F3 96 02             LDAA TEMP
  80F5 81 04             CMPA #4
  80F7 23 06             BLS D2R
  80F9 BD 83 54          JSR MENSAJE_ERROR_MAX
  80FC 7E 81 B0          JMP ESPERA_OK

                   *** Convierte decimal a romano ***
                   D2R

  80FF 96 02             LDAA TEMP
  8101 81 03             CMPA #3
  8103 27 36             BEQ ACOMODA3
  8105 81 02             CMPA #2
  8107 27 55             BEQ ACOMODA2
  8109 81 01             CMPA #1
  810B 27 71             BEQ ACOMODA1

  810D 96 13             LDAA UM
  810F A7 80             STAA $80,X
  8111 96 12             LDAA C
  8113 A7 81             STAA $81,X
  8115 96 11             LDAA D
  8117 A7 82             STAA $82,X
  8119 96 10             LDAA U
  811B A7 83             STAA $83,X
  811D 86 3D             LDAA #'=
  ADDR B1 B2 B3 B4 C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE       4

  811F A7 84             STAA $84,X
  8121 96 02             LDAA TEMP
  8123 4C                INCA
  8124 97 02             STAA TEMP
  8126 DE 01             LDX TEMP_H

  8128 D6 13             LDAB UM
  812A C1 1E             CMPB #30
  812C 27 67             BEQ MD

                   UMCICLO
  812E 86 4D             LDAA #'M
  8130 BD 83 C1          JSR DATARX
  8133 5A                DECB
  8134 C1 30             CMPB #$30
  8136 27 5D             BEQ MD
  8138 7E 81 2E          JMP UMCICLO

                   ACOMODA3
  813B 86 3D             LDAA #'=
  813D A7 83             STAA $83,X
                         *** Baja decena a unidad ***
  813F 96 11             LDAA D
  8141 97 10             STAA U
  8143 A7 82             STAA $82,X
                         *** Baja centena a decena ***
  8145 96 12             LDAA C
  8147 97 11             STAA D
  8149 A7 81             STAA $81,X
                         *** Baja la unidad de millar por centena ***
  814B 96 13             LDAA UM
  814D 97 12             STAA C
  814F A7 80             STAA $80,X
  8151 7F 00 13          CLR UM
  8154 96 02             LDAA TEMP
  8156 4C                INCA
  8157 97 02             STAA TEMP
  8159 DE 01             LDX TEMP_H
  815B 7E 81 95          JMP MD

                   ACOMODA2
  815E 86 3D             LDAA #'=
  8160 A7 82             STAA $82,X
                         *** Baja centena a unidad ***
  8162 96 12             LDAA C
  8164 97 10             STAA U
  8166 A7 81             STAA $81,X
                         *** Baja unidad de millar a decena ***
  8168 96 13             LDAA UM
  816A 97 11             STAA D
  816C A7 80             STAA $80,X
                         *** Limpia datos ***
  816E 7F 00 12          CLR C
  8171 7F 00 13          CLR UM
  8174 96 02             LDAA TEMP
  8176 4C                INCA
  8177 97 02             STAA TEMP
  8179 DE 01             LDX TEMP_H
  817B 7E 81 9E          JMP MD2

                   ACOMODA1
  817E 86 3D             LDAA #'=
  8180 A7 81             STAA $81,X
                         *** Baja unidad de millar a unidad ***
  8182 96 13             LDAA UM
  ADDR B1 B2 B3 B4 C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE       5

  8184 97 10             STAA U
  8186 A7 80             STAA $80,X
                         *** Limpia datos ***
  8188 7F 00 13          CLR UM
  818B 96 02             LDAA TEMP
  818D 4C                INCA
  818E 97 02             STAA TEMP
  8190 DE 01             LDX TEMP_H
  8192 7E 81 A7          JMP MD3

                   MD

  8195 D6 12             LDAB C
  8197 C1 30             CMPB #$30
  8199 27 03             BEQ MD2
  819B BD 82 CD          JSR FORMATOCENTENA

                   MD2

  819E D6 11             LDAB D
  81A0 C1 30             CMPB #$30
  81A2 27 03             BEQ MD3
  81A4 BD 82 8A          JSR FORMATODECENA

                   MD3

  81A7 D6 10             LDAB U
  81A9 C1 30             CMPB #$30
  81AB 27 03             BEQ ESPERA_OK
  81AD BD 82 47          JSR FORMATOUNIDAD

                   ESPERA_OK

  81B0 86 3F             LDAA #'?
  81B2 97 00             STAA ORDEN
                   CICLO_O
  81B4 96 00             LDAA ORDEN
  81B6 81 3F             CMPA #'?
  81B8 27 FA             BEQ  CICLO_O
  81BA 81 4F             CMPA #'O
  81BC 27 00             BEQ CICLO_K
                   CICLO_K
  81BE 96 00             LDAA ORDEN
  81C0 81 4B             CMPA #'K
  81C2 26 F0             BNE CICLO_O
  81C4 7E 80 06          JMP LIMPIA

                   IMPRIME_ERROR_MAX_DECIMAL_TEMP
  81C7 7E 80 EA          JMP IMPRIME_ERROR_MAX_DECIMAL
                   IMPRIME_ERROR_SIMBOLO_TEMP
  81CA 7E 80 E4          JMP IMPRIME_ERROR_SIMBOLO

                   *** Convierte decimal a romano ***
                   R2D

  81CD CE 01 70          LDX #$0170
  81D0 18 CE 00 00       LDY #0
  81D4 C6 00             LDAB #0
                   COPY_ROMANO
  81D6 A6 00             LDAA $0,X
  81D8 18 A7 80          STAA $80,Y
  81DB 08                INX
  81DC 5C                INCB
  81DD 18 08             INY
  81DF D1 02             CMPB TEMP
  ADDR B1 B2 B3 B4 C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE       6

  81E1 23 F3             BLS COPY_ROMANO
  81E3 18 09             DEY
  81E5 86 3D             LDAA #'=
  81E7 18 A7 80          STAA $80,Y
  81EA 7C 00 02          INC TEMP

  81ED CC 01 70          LDD #$0170
  81F0 D3 01             ADDD TEMP_H
  81F2 83 00 02          SUBD #2
  81F5 18 CE 00 00       LDY #0
  81F9 8F                XGDX

                   BUSQUEDA_ROMANA
  81FA A6 00             LDAA $0,X
  81FC 81 4D             CMPA #'M
  81FE 27 1B             BEQ CICLO_M
  8200 81 44             CMPA #'D
  8202 27 1A             BEQ CICLO_D
  8204 81 43             CMPA #'C
  8206 27 16             BEQ CICLO_C
  8208 81 4C             CMPA #'L
  820A 27 12             BEQ CICLO_L
  820C 81 58             CMPA #'X
  820E 27 0E             BEQ CICLO_X
  8210 81 56             CMPA #'V
  8212 27 0A             BEQ CICLO_V
  8214 81 49             CMPA #'I
  8216 27 06             BEQ CICLO_I
  8218 7E 82 27          JMP OUTPUT_ROMANO_M

                   CICLO_M
  821B 7E 81 FA          JMP BUSQUEDA_ROMANA
                   CICLO_D
                   CICLO_C
                   CICLO_L
                   CICLO_X
                   CICLO_V
                   CICLO_I
  821E D6 2C             LDAB U_R
  8220 5C                INCB
  8221 D7 2C             STAB U_R
  8223 09                DEX
  8224 7E 81 FA          JMP BUSQUEDA_ROMANA

                   OUTPUT_ROMANO_M
  8227 DE 01             LDX TEMP_H
  8229 D6 2F             LDAB UM_R
  822B CB 30             ADDB #$30
  822D E7 80             STAB $80,X
  822F 08                INX
                   OUTPUT_ROMANO_C
  8230 D6 2E             LDAB C_R
  8232 CB 30             ADDB #$30
  8234 E7 80             STAB $80,X
  8236 08                INX
                   OUTPUT_ROMANO_X
  8237 D6 2D             LDAB D_R
  8239 CB 30             ADDB #$30
  823B E7 80             STAB $80,X
  823D 08                INX
                   OUTPUT_ROMANO_I
  823E D6 2C             LDAB U_R
  8240 CB 30             ADDB #$30
  8242 E7 80             STAB $80,X

  ADDR B1 B2 B3 B4 C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE       7

                   SALTE_DE_OUTPUT_ROMANO
  8244 7E 81 B0          JMP ESPERA_OK
                   ***********************************
                   * Unidades
                   ***********************************

                   FORMATOUNIDAD

  8247 96 10             LDAA U
  8249 81 34             CMPA #$34
  824B 27 32             BEQ USPECIAL
  824D 25 15             BLO UCICLO
  824F 81 39             CMPA #$39
  8251 27 04             BEQ USPECIAL9
  8253 81 35             CMPA #$35
  8255 24 1A             BHS USPECIAL5

                   USPECIAL9
  8257 86 49             LDAA #'I
  8259 BD 83 C1          JSR DATARX
  825C 86 58             LDAA #'X
  825E BD 83 C1          JSR DATARX
  8261 7E 82 89          JMP FINU

                   UCICLO
  8264 86 49             LDAA #'I
  8266 BD 83 C1          JSR DATARX
  8269 5A                DECB
  826A C1 30             CMPB #$30
  826C 27 1B             BEQ FINU
  826E 7E 82 64          JMP UCICLO

                   USPECIAL5
  8271 86 56             LDAA #'V
  8273 BD 83 C1          JSR DATARX
  8276 C0 05             SUBB #5
  8278 C1 30             CMPB #$30
  827A 22 E8             BHI UCICLO
  827C 7E 82 89          JMP FINU

                   USPECIAL
  827F 86 49             LDAA #'I
  8281 BD 83 C1          JSR DATARX
  8284 86 56             LDAA #'V
  8286 BD 83 C1          JSR DATARX

                   FINU
  8289 39                RTS

                   ***********************************
                   * Dencenas
                   ***********************************

                   FORMATODECENA

  828A 96 11             LDAA D
  828C 81 34             CMPA #$34
  828E 27 32             BEQ DSPECIAL
  8290 25 15             BLO DCICLO
  8292 81 39             CMPA #$39
  8294 27 04             BEQ DSPECIAL9
  8296 81 35             CMPA #$35
  8298 24 1A             BHS DSPECIAL5

                   DSPECIAL9
  ADDR B1 B2 B3 B4 C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE       8

  829A 86 58             LDAA #'X
  829C BD 83 C1          JSR DATARX
  829F 86 43             LDAA #'C
  82A1 BD 83 C1          JSR DATARX
  82A4 7E 82 CC          JMP FIND

                   DCICLO
  82A7 86 58             LDAA #'X
  82A9 BD 83 C1          JSR DATARX
  82AC 5A                DECB
  82AD C1 30             CMPB #$30
  82AF 27 1B             BEQ FIND
  82B1 7E 82 A7          JMP DCICLO

                   DSPECIAL5
  82B4 86 4C             LDAA #'L
  82B6 BD 83 C1          JSR DATARX
  82B9 C0 05             SUBB #5
  82BB C1 30             CMPB #$30
  82BD 22 E8             BHI DCICLO
  82BF 7E 82 CC          JMP FIND

                   DSPECIAL
  82C2 86 58             LDAA #'X
  82C4 BD 83 C1          JSR DATARX
  82C7 86 4C             LDAA #'L
  82C9 BD 83 C1          JSR DATARX

                   FIND
  82CC 39                RTS

                   ***********************************
                   * Centenas
                   ***********************************

                   FORMATOCENTENA

  82CD 96 12             LDAA C
  82CF 81 34             CMPA #$34
  82D1 27 32             BEQ CSPECIAL
  82D3 25 15             BLO CCICLO
  82D5 81 39             CMPA #$39
  82D7 27 04             BEQ CSPECIAL9
  82D9 81 35             CMPA #$35
  82DB 24 1A             BHS CSPECIAL5

                   CSPECIAL9
  82DD 86 43             LDAA #'C
  82DF BD 83 C1          JSR DATARX
  82E2 86 4D             LDAA #'M
  82E4 BD 83 C1          JSR DATARX
  82E7 7E 83 0F          JMP FINC

                   CCICLO
  82EA 86 43             LDAA #'C
  82EC BD 83 C1          JSR DATARX
  82EF 5A                DECB
  82F0 C1 30             CMPB #$30
  82F2 27 1B             BEQ FINC
  82F4 7E 82 EA          JMP CCICLO

                   CSPECIAL5
  82F7 86 44             LDAA #'D
  82F9 BD 83 C1          JSR DATARX
  82FC C0 05             SUBB #5
  ADDR B1 B2 B3 B4 C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE       9

  82FE C1 30             CMPB #$30
  8300 22 E8             BHI CCICLO
  8302 7E 83 0F          JMP FINC

                   CSPECIAL
  8305 86 43             LDAA #'C
  8307 BD 83 C1          JSR DATARX
  830A 86 44             LDAA #'D
  830C BD 83 C1          JSR DATARX

                   FINC
  830F 39                RTS

                   ***********************************
                   * SERIAL
                   ***********************************

                   SERIAL

  8310 86 00             LDAA  #$00    * CONFIG TODO EL PUERTO  A COMO ENTRADAS
  8312 B7 10 01          STAA  DDRA    * EL PUERTO A

  8315 86 FF             LDAA  #$FF    * CONFIG TODO EL PUERTO  G COMO SALIDAS
  8317 B7 10 03          STAA  DDRG    * EL PUERTO G

  831A 86 00             LDAA  #$00    * SE PONE PUERTO G EN CEROS
  831C B7 10 02          STAA  PORTG


  831F CC 30 2C          LDD   #$302C  * CONFIGURA PUERTO SERIAL
  8322 B7 10 2B          STAA  BAUD    * BAUD  9600  para cristal de 8MHz
  8325 F7 10 2D          STAB  SCCR2   * HABILITA  RX Y TX PERO INTERRUPCN SOLO
.                  RX
  8328 86 00             LDAA  #$00
  832A B7 10 2C          STAA  SCCR1   * 8 BITS

  832D 86 FE             LDAA  #$FE    * CONFIG PUERTO D COMO SALIDAS (EXCEPTO
.                  PD0)
  832F B7 10 09          STAA  DDRD    * SEA  ENABLE DEL DISPLAY  PD4  Y RS PD3


  8332 86 04             LDAA  #$04
  8334 B7 10 3C          STAA  HPRIO

  8337 86 00             LDAA  #$00
  8339 06                TAP
  833A 39                RTS

                   ***********************************
                   *  Borra todo
                   ***********************************

                   BORRA_TODO
  833B 86 00             LDAA #0
  833D A7 80             STAA $80,X
  833F 08                INX
  8340 8C 00 20          CPX #$20
  8343 26 F6             BNE BORRA_TODO
  8345 CE 01 70          LDX #$0170
                   BORRA_TODO_2
  8348 A7 00             STAA $0,X
  834A 08                INX
  834B 8C 01 9F          CPX #$019F
  834E 26 F8             BNE BORRA_TODO_2
  8350 CE 00 00          LDX #0
  ADDR B1 B2 B3 B4 C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE      10


  8353 39                RTS

                   ***********************************
                   *  Error en numero maximo
                   ***********************************

                   MENSAJE_ERROR_MAX
  8354 CE 10 4F          LDX #MENSAJE_1
  8357 18 CE 00 00       LDY #0
                   CICLO_ERROR_MAX
  835B A6 00             LDAA 0,X
  835D 81 26             CMPA #'&
  835F 27 09             BEQ SALTE_ERROR_MAX
  8361 08                INX
  8362 18 A7 80          STAA $80,Y
  8365 18 08             INY
  8367 7E 83 5B          JMP CICLO_ERROR_MAX

                   SALTE_ERROR_MAX
  836A 39                RTS

                   ***********************************
                   *  Error por simbolo invalido
                   ***********************************

                   MENSAJE_ERROR_SIMBOLO
  836B CE 10 67          LDX #MENSAJE_2
  836E 18 CE 00 00       LDY #0
                   CICLO_ERROR_SIMBOLO
  8372 A6 00             LDAA 0,X
  8374 81 26             CMPA #'&
  8376 27 09             BEQ SALTE_ERROR_SIMBOLO
  8378 08                INX
  8379 18 A7 80          STAA $80,Y
  837C 18 08             INY
  837E 7E 83 72          JMP CICLO_ERROR_SIMBOLO

                   SALTE_ERROR_SIMBOLO
  8381 39                RTS

                   ***********************************
                   *  Romano
                   ***********************************

                   ROMANO
  8382 81 49             CMPA #'I
  8384 27 1B             BEQ CONFIRMA_ROMANO
  8386 81 56             CMPA #'V
  8388 27 17             BEQ CONFIRMA_ROMANO
  838A 81 58             CMPA #'X
  838C 27 13             BEQ CONFIRMA_ROMANO
  838E 81 4C             CMPA #'L
  8390 27 0F             BEQ CONFIRMA_ROMANO
  8392 81 43             CMPA #'C
  8394 27 0B             BEQ CONFIRMA_ROMANO
  8396 81 44             CMPA #'D
  8398 27 07             BEQ CONFIRMA_ROMANO
  839A 81 4D             CMPA #'M
  839C 27 03             BEQ CONFIRMA_ROMANO
  839E 7E 83 A8          JMP ERROR_FORMA_ROMANO

                   CONFIRMA_ROMANO
  83A1 C6 01             LDAB #1
  83A3 D7 24             STAB FCR
  ADDR B1 B2 B3 B4 C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE      11

  83A5 7E 83 AC          JMP CORRECT_ROMANO

                   ERROR_FORMA_ROMANO
  83A8 C6 01             LDAB #1
  83AA D7 22             STAB FER

                   CORRECT_ROMANO
  83AC 39                RTS

                   ***********************************
                   *  Decimal
                   ***********************************

                   DECIMAL
  83AD 81 30             CMPA #$30
  83AF 25 0B             BLO ERROR_FORMA
  83B1 81 39             CMPA #$39
  83B3 22 07             BHI ERROR_FORMA
  83B5 C6 01             LDAB #1
  83B7 D7 23             STAB FCD
  83B9 7E 83 C0          JMP CORRECT_DECIMAL

                   ERROR_FORMA
  83BC C6 01             LDAB #1
  83BE D7 21             STAB FED

                   CORRECT_DECIMAL
  83C0 39                RTS

                   ***********************************
                   *  DESPLIEGUE DE DATOS
                   ***********************************

                   DATARX
  83C1 A7 80             STAA $80,X
  83C3 08                INX

  83C4 39                RTS

                   ***********************************
                   * ATENCION A INTERRUPCION SERIAL
                   ***********************************
                         ORG  $F100

  F100 36                PSHA

  F101 B6 10 2E          LDAA SCSR
  F104 B6 10 2F          LDAA SCDR
  F107 97 00             STAA ORDEN

  F109 32                PULA

  F10A 3B                RTI

                   ***********************************
                   * MENSAJE DE ERROR
                   ***********************************
                         ORG $104F
  104F 4E 55 6D 65 MENSAJE_1  FCC "NUmero fuera del limite&"
. 1053 72 6F 20 66
. 1057 75 35 72 61
. 105B 20 64 65 6C
. 105F 20 6C 69 32
. 1063 69 74 65 26
  1067 53 69 6D 62 MENSAJE_2  FCC "Simbolo invAlido&"
  ADDR B1 B2 B3 B4 C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE      12

. 106B 6F 6C 6F 20
. 106F 69 6E 76 41
. 1073 6C 69 64 6F
. 1077 26

                   ***********************************
                   * VECTOR INTERRUPCION SERIAL
                   ***********************************
                          ORG   $FFD6
  FFD6 F1 00              FCB   $F1,$00

                   ***********************************
                   *RESET
                   ***********************************
                          ORG    $FFFE
  FFFE 80 00       RESET  FCB    $80,$00
                   ***********************************
                          END

  Symbol Table 

  REVISA_21          80A3
  CSPECIAL5          82F7
  C_R                002E
  TEMP_H             0001
  CSPECIAL9          82DD
  DCICLO             82A7
  ERROR_FORMA        83BC
  MENSAJE_ERROR_SIMBOLO 836B
  UM                 0013
  SERIAL             8310
  UMCICLO            812E
  DECIMAL            83AD
  RELOAD_DATA_ROMANO 807D
  DSPECIAL5          82B4
  DSPECIAL9          829A
  C                  0012
  D                  0011
  ESPERA_OK          81B0
  R2D                81CD
  U                  0010
  CSCTL              105D
  MENSAJE_ERROR_MAX  8354
  UM_R               002F
  CICLO_ERROR_MAX    835B
  MENSAJE_1          104F
  MENSAJE_2          1067
  IMPRIME_ERROR_SIMBOLO 80E4
  IMPRIME_ERROR_MAX_DECIMAL 80EA
  CORRECT_DECIMAL    83C0
  SCCR1              102C
  SCCR2              102D
  CCICLO             82EA
  USPECIAL           827F
  TEMP               0002
  BAUD               102B
  LIMPIA             8006
  CICLO_GUARDADO_ROMANO 8081
  STORE_ROMANO       8074
  FCD                0023
  CICLO              8059
  D_R                002D
  OUTPUT_ROMANO_C    8230
  OUTPUT_ROMANO_I    823E
  DSPECIAL           82C2
  Symbol Table     C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE      13

  FCR                0024
  SALTE_DE_OUTPUT_ROMANO 8244
  OUTPUT_ROMANO_M    8227
  ROMANO             8382
  OUTPUT_ROMANO_X    8237
  UCICLO             8264
  OPT2               1038
  FED                0021
  CONFIRMA_ROMANO    83A1
  BORRA_TODO         833B
  ACOMODA1           817E
  ACOMODA2           815E
  BORRA_TODO_2       8348
  ACOMODA3           813B
  FER                0022
  IMPRIME_ERROR_MAX_DECIMAL_TEMP 81C7
  COPY_ROMANO        81D6
  RESET              FFFE
  CICLO_C            821E
  CICLO_D            821E
  MD                 8195
  CICLO_I            821E
  CICLO_K            81BE
  CICLO_L            821E
  MD2                819E
  CICLO_M            821B
  MD3                81A7
  CICLO_O            81B4
  ERROR_FORMA_ROMANO 83A8
  RELOAD_DATA_DECIMAL 80BE
  FORMATOCENTENA     82CD
  CICLO_V            821E
  CICLO_X            821E
  ORDEN              0000
  HPRIO              103C
  BUSQUEDA_ROMANA    81FA
  CICLO_GUARDADO_DECIMAL 80C2
  SCSR               102E
  SALTE_ERROR_MAX    836A
  CORRECT_ROMANO     83AC
  FORMATODECENA      828A
  D2R                80FF
  STORE_DECIMAL      80B5
  IMPRIME_ERROR_SIMBOLO_TEMP 81CA
  U_R                002C
  PORTG              1002
  CONT               0020
  REVISA_CUATRO      80F0
  CONT_C             0027
  DDRA               1001
  CONT_D             0026
  DDRD               1009
  DATARX             83C1
  CONT_I             002B
  DDRG               1003
  CONT_L             0028
  CONT_M             0025
  SCDR               102F
  CONT_V             002A
  CONT_X             0029
  FINC               830F
  FIND               82CC
  CSPECIAL           8305
  USPECIAL5          8271
  USPECIAL9          8257
  Symbol Table     C:\Users\Ian\Desktop\Proyecto2_Roma\Roma.asc     PAGE      14

  FINU               8289
  FORMATOUNIDAD      8247
  SALTE_ERROR_SIMBOLO 8381
  CICLO_ERROR_SIMBOLO 8372
  SPCR               1028
  R2D_TEMP           80B2
  INICIO             8055
